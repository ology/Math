#!/usr/bin/env perl
use strict;
use warnings;

use Math::Big qw( pi euler );
use Math::Prime::XS qw( is_prime );

my $digits = shift // 100;
my $span   = shift // 1;
my $type   = shift // 'pi';

my $number;
if ( $type eq 'pi' ) {
    $number = pi($digits);
}
else {
    $number = euler( 1, $digits );
}

( my $decimal = $number ) =~ s/\A\d\.(.*)\z/$1/;
print "$decimal\n";

my $position = 0;

while ( $position + $span - 1 < length($decimal) ) {
    my $group = substr $decimal, $position, $span;

    printf "%3d. %s%s\n",
        $position,
        $group,
        is_prime($group) ? ' *' : '';

    $position++;
}
